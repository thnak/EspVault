# QEMU Configuration for EspVault Tests

# Flash configuration
CONFIG_ESPTOOLPY_FLASHMODE_QIO=y
CONFIG_ESPTOOLPY_FLASHFREQ_40M=y
CONFIG_ESPTOOLPY_FLASHSIZE_4MB=y
CONFIG_ESPTOOLPY_FLASHSIZE="4MB"

# Partition table
CONFIG_PARTITION_TABLE_CUSTOM=y
CONFIG_PARTITION_TABLE_CUSTOM_FILENAME="partitions_qemu.csv"
CONFIG_PARTITION_TABLE_FILENAME="partitions_qemu.csv"

# Enable PSRAM (simulated in QEMU)
CONFIG_SPIRAM=y
CONFIG_SPIRAM_BOOT_INIT=y
CONFIG_SPIRAM_USE_MALLOC=y
CONFIG_SPIRAM_TYPE_AUTO=y
CONFIG_SPIRAM_SIZE=4194304

# FreeRTOS for dual-core testing
CONFIG_FREERTOS_UNICORE=n

# Logging
CONFIG_LOG_DEFAULT_LEVEL_DEBUG=y
CONFIG_LOG_DEFAULT_LEVEL=4

# MQTT
CONFIG_MQTT_PROTOCOL_5=y

# NVS
CONFIG_NVS_ENCRYPTION=n

# Unity test framework
CONFIG_UNITY_ENABLE_FLOAT=y
CONFIG_UNITY_ENABLE_DOUBLE=y
CONFIG_UNITY_ENABLE_BACKTRACE_ON_FAIL=y

# Reduce optimization for better debugging in QEMU
CONFIG_COMPILER_OPTIMIZATION_DEBUG=y
